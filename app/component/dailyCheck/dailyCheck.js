"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var user_1 = require("../../model/user");
var buttonModule = require("ui/button");
var firebase = require("nativescript-plugin-firebase");
var builder = require('ui/builder');
var DailyCheck = (function () {
    function DailyCheck(page) {
        this.habits = [];
        this.btnSubmit = page.getViewById('btnSubmit');
        this.habitContainer = page.getViewById('habitContainer');
        this.btnTomorrow = page.getViewById('btnTomorrow');
        this.btnYesterday = page.getViewById('btnYesterday');
        this.date = page.getViewById('date');
        this.defaultSetting();
        this.eventSetting();
    }
    DailyCheck.prototype.defaultSetting = function () {
        this.todayDate = new Date();
        this.setDate(this.todayDate);
    };
    DailyCheck.prototype.setDate = function (date) {
        this.date.text = date.getFullYear() + "." + (date.getMonth() + 1) + "." + date.getDate();
    };
    DailyCheck.prototype.addHabit = function (habitDbData) {
        if (habitDbData === void 0) { habitDbData = null; }
        var habit = builder.load({
            path: '/component/create/habit',
            name: 'habit'
        });
        habit.getViewById('habitName').text = habitDbData.title;
        this.habitContainer.addChild(habit);
    };
    DailyCheck.prototype.eventSetting = function () {
        var _this = this;
        this.btnSubmit.on(buttonModule.Button.tapEvent, function () {
            _this.goSubmit();
        });
        this.btnTomorrow.on(buttonModule.Button.tapEvent, function () {
            _this.goTommorrow();
        });
        this.btnYesterday.on(buttonModule.Button.tapEvent, function () {
            _this.goYesterday();
        });
        var onChildEvent = function (result) {
            console.log("Event type: " + result.type);
            console.log("Key: " + result.key);
            console.log("Value: " + JSON.stringify(result.value));
            var users = result.value;
            //const myHabits = users.find(user => user.id == userInfo.uid);
            _this.makeMyHabits(users.habits);
        };
        // listen to changes in the /users path
        firebase.addChildEventListener(onChildEvent, "/users").then(function (listenerWrapper) {
            var path = listenerWrapper.path;
            var listeners = listenerWrapper.listeners; // an Array of listeners added
            // you can store the wrapper somewhere to later call 'removeEventListeners'
        });
    };
    DailyCheck.prototype.goTommorrow = function () {
        this.todayDate.setDate(this.todayDate.getDate() + 1);
        this.setDate(this.todayDate);
    };
    DailyCheck.prototype.goYesterday = function () {
        this.todayDate.setDate(this.todayDate.getDate() - 1);
        this.setDate(this.todayDate);
    };
    DailyCheck.prototype.makeMyHabits = function (myHabits) {
        var _this = this;
        if (!myHabits || myHabits.length == 0) {
            this.addHabit();
        }
        else {
            myHabits.forEach(function (habit) {
                _this.addHabit(habit);
            });
        }
    };
    DailyCheck.prototype.goSubmit = function () {
        var habits = [];
        this.habitContainer.eachChildView(function (child) {
            habits.push({
                title: child.getViewById('habitName').text,
                value: Number(child.getViewById('habitCount').text)
            });
        });
        firebase.setValue('/dailyHabit', [
            {
                id: user_1.userInfo.uid,
                date: this.date.text,
                habits: habits
            }
        ]);
    };
    DailyCheck.prototype.logout = function () {
        firebase.logout();
    };
    return DailyCheck;
}());
exports.navigated = function (args) {
    new DailyCheck(args.object);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGFpbHlDaGVjay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRhaWx5Q2hlY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5Q0FBMEM7QUFDMUMsd0NBQTJDO0FBRTNDLElBQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO0FBQ3pELElBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUV0QztJQVVJLG9CQUFZLElBQUk7UUFIUixXQUFNLEdBQUcsRUFBRSxDQUFDO1FBSWhCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUMvQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUN6RCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUVyQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFTyxtQ0FBYyxHQUF0QjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRU8sNEJBQU8sR0FBZixVQUFnQixJQUFJO1FBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFNLElBQUksQ0FBQyxXQUFXLEVBQUUsVUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUMsQ0FBQyxVQUFJLElBQUksQ0FBQyxPQUFPLEVBQUksQ0FBQztJQUNwRixDQUFDO0lBRU8sNkJBQVEsR0FBaEIsVUFBaUIsV0FBa0I7UUFBbEIsNEJBQUEsRUFBQSxrQkFBa0I7UUFDL0IsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztZQUN2QixJQUFJLEVBQUUseUJBQXlCO1lBQy9CLElBQUksRUFBRSxPQUFPO1NBQ2hCLENBQUMsQ0FBQztRQUVILEtBQUssQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7UUFDeEQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVPLGlDQUFZLEdBQXBCO1FBQUEsaUJBNEJDO1FBM0JHLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFO1lBQzVDLEtBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFO1lBQzlDLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN2QixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFO1lBQy9DLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN2QixDQUFDLENBQUMsQ0FBQztRQUVILElBQU0sWUFBWSxHQUFHLFVBQUMsTUFBTTtZQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2xDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDdEQsSUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztZQUMzQiwrREFBK0Q7WUFDL0QsS0FBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEMsQ0FBQyxDQUFDO1FBRUYsdUNBQXVDO1FBQ3ZDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUN2RCxVQUFBLGVBQWU7WUFDWCxJQUFNLElBQUksR0FBRyxlQUFlLENBQUMsSUFBSSxDQUFDO1lBQ2xDLElBQU0sU0FBUyxHQUFHLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyw4QkFBOEI7WUFDM0UsMkVBQTJFO1FBQy9FLENBQUMsQ0FDSixDQUFDO0lBQ04sQ0FBQztJQUVPLGdDQUFXLEdBQW5CO1FBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRU8sZ0NBQVcsR0FBbkI7UUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFTyxpQ0FBWSxHQUFwQixVQUFxQixRQUFRO1FBQTdCLGlCQVFDO1FBUEcsRUFBRSxDQUFBLENBQUMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixDQUFDO1FBQUEsSUFBSSxDQUFBLENBQUM7WUFDRixRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUEsS0FBSztnQkFDbEIsS0FBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN6QixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7SUFDTCxDQUFDO0lBRU0sNkJBQVEsR0FBZjtRQUVJLElBQUksTUFBTSxHQUFrQixFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsVUFBQSxLQUFLO1lBQ25DLE1BQU0sQ0FBQyxJQUFJLENBQUM7Z0JBQ1IsS0FBSyxFQUFFLEtBQUssQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSTtnQkFDMUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQzthQUN0RCxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztRQUVILFFBQVEsQ0FBQyxRQUFRLENBQ2IsYUFBYSxFQUNiO1lBQ0k7Z0JBQ0ksRUFBRSxFQUFFLGVBQVEsQ0FBQyxHQUFHO2dCQUNoQixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJO2dCQUNwQixNQUFNLEVBQUUsTUFBTTthQUNqQjtTQUNKLENBQ0osQ0FBQztJQUNOLENBQUM7SUFFTSwyQkFBTSxHQUFiO1FBQ0ksUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFHTCxpQkFBQztBQUFELENBQUMsQUFySEQsSUFxSEM7QUFFRCxPQUFPLENBQUMsU0FBUyxHQUFHLFVBQVUsSUFBSTtJQUM5QixJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDaEMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt1c2VySW5mb30gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgYnV0dG9uTW9kdWxlID0gcmVxdWlyZShcInVpL2J1dHRvblwiKTtcbmltcG9ydCB7IFZpZXdCYXNlIH0gZnJvbSAndG5zLWNvcmUtbW9kdWxlcy91aS9wYWdlL3BhZ2UnO1xuY29uc3QgZmlyZWJhc2UgPSByZXF1aXJlKFwibmF0aXZlc2NyaXB0LXBsdWdpbi1maXJlYmFzZVwiKTtcbmNvbnN0IGJ1aWxkZXIgPSByZXF1aXJlKCd1aS9idWlsZGVyJyk7XG5cbmNsYXNzIERhaWx5Q2hlY2sge1xuXG4gICAgcHJpdmF0ZSBidG5TdWJtaXQ7XG4gICAgcHJpdmF0ZSBoYWJpdENvbnRhaW5lcjtcbiAgICBwcml2YXRlIGJ0blRvbW9ycm93O1xuICAgIHByaXZhdGUgYnRuWWVzdGVyZGF5O1xuICAgIHByaXZhdGUgZGF0ZTtcbiAgICBwcml2YXRlIGhhYml0cyA9IFtdO1xuICAgIHByaXZhdGUgdG9kYXlEYXRlO1xuXG4gICAgY29uc3RydWN0b3IocGFnZSl7XG4gICAgICAgIHRoaXMuYnRuU3VibWl0ID0gcGFnZS5nZXRWaWV3QnlJZCgnYnRuU3VibWl0Jyk7XG4gICAgICAgIHRoaXMuaGFiaXRDb250YWluZXIgPSBwYWdlLmdldFZpZXdCeUlkKCdoYWJpdENvbnRhaW5lcicpO1xuICAgICAgICB0aGlzLmJ0blRvbW9ycm93ID0gcGFnZS5nZXRWaWV3QnlJZCgnYnRuVG9tb3Jyb3cnKTtcbiAgICAgICAgdGhpcy5idG5ZZXN0ZXJkYXkgPSBwYWdlLmdldFZpZXdCeUlkKCdidG5ZZXN0ZXJkYXknKTtcbiAgICAgICAgdGhpcy5kYXRlID0gcGFnZS5nZXRWaWV3QnlJZCgnZGF0ZScpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5kZWZhdWx0U2V0dGluZygpO1xuICAgICAgICB0aGlzLmV2ZW50U2V0dGluZygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVmYXVsdFNldHRpbmcoKSB7XG4gICAgICAgIHRoaXMudG9kYXlEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5zZXREYXRlKHRoaXMudG9kYXlEYXRlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldERhdGUoZGF0ZSl7XG4gICAgICAgIHRoaXMuZGF0ZS50ZXh0ID0gYCR7ZGF0ZS5nZXRGdWxsWWVhcigpfS4ke2RhdGUuZ2V0TW9udGgoKSsxfS4ke2RhdGUuZ2V0RGF0ZSgpfWA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRIYWJpdChoYWJpdERiRGF0YSA9IG51bGwpIHtcbiAgICAgICAgY29uc3QgaGFiaXQgPSBidWlsZGVyLmxvYWQoe1xuICAgICAgICAgICAgcGF0aDogJy9jb21wb25lbnQvY3JlYXRlL2hhYml0JyxcbiAgICAgICAgICAgIG5hbWU6ICdoYWJpdCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaGFiaXQuZ2V0Vmlld0J5SWQoJ2hhYml0TmFtZScpLnRleHQgPSBoYWJpdERiRGF0YS50aXRsZTtcbiAgICAgICAgdGhpcy5oYWJpdENvbnRhaW5lci5hZGRDaGlsZChoYWJpdCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBldmVudFNldHRpbmcoKSB7XG4gICAgICAgIHRoaXMuYnRuU3VibWl0Lm9uKGJ1dHRvbk1vZHVsZS5CdXR0b24udGFwRXZlbnQsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ29TdWJtaXQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYnRuVG9tb3Jyb3cub24oYnV0dG9uTW9kdWxlLkJ1dHRvbi50YXBFdmVudCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nb1RvbW1vcnJvdygpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5idG5ZZXN0ZXJkYXkub24oYnV0dG9uTW9kdWxlLkJ1dHRvbi50YXBFdmVudCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nb1llc3RlcmRheSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBvbkNoaWxkRXZlbnQgPSAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkV2ZW50IHR5cGU6IFwiICsgcmVzdWx0LnR5cGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJLZXk6IFwiICsgcmVzdWx0LmtleSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZhbHVlOiBcIiArIEpTT04uc3RyaW5naWZ5KHJlc3VsdC52YWx1ZSkpO1xuICAgICAgICAgICAgY29uc3QgdXNlcnMgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAvL2NvbnN0IG15SGFiaXRzID0gdXNlcnMuZmluZCh1c2VyID0+IHVzZXIuaWQgPT0gdXNlckluZm8udWlkKTtcbiAgICAgICAgICAgIHRoaXMubWFrZU15SGFiaXRzKHVzZXJzLmhhYml0cyk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBsaXN0ZW4gdG8gY2hhbmdlcyBpbiB0aGUgL3VzZXJzIHBhdGhcbiAgICAgICAgZmlyZWJhc2UuYWRkQ2hpbGRFdmVudExpc3RlbmVyKG9uQ2hpbGRFdmVudCwgXCIvdXNlcnNcIikudGhlbihcbiAgICAgICAgICAgIGxpc3RlbmVyV3JhcHBlciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGxpc3RlbmVyV3JhcHBlci5wYXRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IGxpc3RlbmVyV3JhcHBlci5saXN0ZW5lcnM7IC8vIGFuIEFycmF5IG9mIGxpc3RlbmVycyBhZGRlZFxuICAgICAgICAgICAgICAgIC8vIHlvdSBjYW4gc3RvcmUgdGhlIHdyYXBwZXIgc29tZXdoZXJlIHRvIGxhdGVyIGNhbGwgJ3JlbW92ZUV2ZW50TGlzdGVuZXJzJ1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ29Ub21tb3Jyb3coKSB7XG4gICAgICAgIHRoaXMudG9kYXlEYXRlLnNldERhdGUodGhpcy50b2RheURhdGUuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIHRoaXMuc2V0RGF0ZSh0aGlzLnRvZGF5RGF0ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnb1llc3RlcmRheSgpIHtcbiAgICAgICAgdGhpcy50b2RheURhdGUuc2V0RGF0ZSh0aGlzLnRvZGF5RGF0ZS5nZXREYXRlKCkgLSAxKTtcbiAgICAgICAgdGhpcy5zZXREYXRlKHRoaXMudG9kYXlEYXRlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1ha2VNeUhhYml0cyhteUhhYml0cykge1xuICAgICAgICBpZighbXlIYWJpdHMgfHwgbXlIYWJpdHMubGVuZ3RoID09IDApe1xuICAgICAgICAgICAgdGhpcy5hZGRIYWJpdCgpOyAgICBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBteUhhYml0cy5mb3JFYWNoKGhhYml0ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEhhYml0KGhhYml0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdvU3VibWl0KCl7XG5cbiAgICAgICAgbGV0IGhhYml0czogQXJyYXk8T2JqZWN0PiA9IFtdO1xuICAgICAgICB0aGlzLmhhYml0Q29udGFpbmVyLmVhY2hDaGlsZFZpZXcoY2hpbGQgPT4ge1xuICAgICAgICAgICAgaGFiaXRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBjaGlsZC5nZXRWaWV3QnlJZCgnaGFiaXROYW1lJykudGV4dCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogTnVtYmVyKGNoaWxkLmdldFZpZXdCeUlkKCdoYWJpdENvdW50JykudGV4dClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGZpcmViYXNlLnNldFZhbHVlKCBcbiAgICAgICAgICAgICcvZGFpbHlIYWJpdCcsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogdXNlckluZm8udWlkLFxuICAgICAgICAgICAgICAgICAgICBkYXRlOiB0aGlzLmRhdGUudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgaGFiaXRzOiBoYWJpdHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvZ291dCgpIHtcbiAgICAgICAgZmlyZWJhc2UubG9nb3V0KCk7XG4gICAgfVxuXG5cbn1cblxuZXhwb3J0cy5uYXZpZ2F0ZWQgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIG5ldyBEYWlseUNoZWNrKGFyZ3Mub2JqZWN0KTtcbn07Il19